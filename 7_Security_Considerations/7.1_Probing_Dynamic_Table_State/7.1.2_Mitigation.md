---
title: "7.1.2. 缓解措施"
anchor: "7.1.2_Mitigation"
weight: 7120
rank: "h3"
---

对头部和挂载字段要求可信度的HTTP用户可以使用具有足够的熵的值来使其无法被猜测到。
然而，实际上不可能将此作为通用的解决方案，因为这要求所有HTTP用户都采取措施来缓解攻击。
这会向HTTP的使用方式施加新的限制。

不同于向HTTP用户施加限制，QPACK的实现可以约束压缩的使用方式，从而限制动态表探测的潜在危害。

一项理想的解决方案是基于构造消息的实体来隔离对动态表的访问。
将添加进表的字段值归属至某实体所有，只有创建某个值的实体才能访问该值。

为了提高该方案的压缩性能，某些实体可以被指定为公开。
例如，网络服务器可以使得标头字段`Accept-Encoding`的值在所有请求中都可用。

不了解字段值出处的编码器会受到惩罚，创建出许多字段名称相同但是字段值不同的字段行。
该惩罚能够引发大量对字段值的猜测，使得该字段不会在将来的消息中与动态表条目相比较，从而有效地阻止更多的猜测。

该惩罚可能会在较短的字段值上更快到来。
相比较长的值，对动态表中某字段名称的访问禁用可能在较短的值上更早出现，或有着更高的出现可能。

这项缓解措施在两个终端间最为有效。
如果消息被不了解哪个实体构造了给定消息的中间设备重新编码，那么该中间设备可能不经意间合并了原始编码器有意隔离的压缩上下文。

> 注意：如果攻击者拥有可靠的方式使得值被重新设置，那么简单地将与字段相关的条目从动态表中移除的做法会变得徒劳无功。
比如，在网络浏览器中加载图像的请求一般会包含标头`Cookie`（它对此类攻击来说是个潜在的高价值目标），且网站很容易强制某个图像得到加载，从而刷新动态表中的条目。
